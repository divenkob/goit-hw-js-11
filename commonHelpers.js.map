{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function getImage(searchValue) {\n    const BASE_URL = 'https://pixabay.com/api/';\n    const API_KEY = '43825908-e00f2a501e8ab3b01ba78a8cd';\n    const params = `?key=${API_KEY}&q=${searchValue}&image_type=photo&orientation=horizontal&safesearch=true`;\n  \n    return fetch(`${BASE_URL}${params}`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        })\n}","export function getMarkup(imgArray, gallery) {\n    const galleryMarkup = imgArray.reduce((acc, img) => {\n      return (acc += `<div class=\"gallery-item\">\n            <a href=\"${img.largeImageURL}\"><img src=\"${img.webformatURL}\" alt=\"${img.tags}\"  width=\"360\"/></a>\n            <div class=\"info\">\n                <p>Likes <span></span>${img.likes}</span></p>\n                <p>Views <span></span>${img.views}</span></p>\n                <p>Comments <span></span>${img.comments}</span></p>\n                <p>Downloads <span></span>${img.downloads}</span></p>\n            </div>\n                </div>`);\n    }, '');\n    gallery.insertAdjacentHTML('beforeend', galleryMarkup);\n  }","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\"; \nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { getImage } from \"./js/pixabay-api\";\nimport { getMarkup } from \"./js/render-functions\";\n\nconst links = {\n    formEL: document.querySelector('#form'),\n    inputEL: document.querySelector('#image-input'),\n    galleryEL: document.querySelector('#gallery'),\n    gallery: document.querySelector('.gallery'),\n  };\n  \n  function submitForm (event) {\n    event.preventDefault();\n    links.galleryEL.innerHTML = '<span class=\"loader\"></span>';\n    const searchValue = links.inputEL.value.trim();\n    if (searchValue === '') {\n      return iziToast.show({\n        title: '<div class=\"error-remark\"><img src=\"./img/error.svg\" alt=\"error\" class=\"error-svg\"><span class=\"error-text\">Introduction field please enter the value to search</span></div>',\n        titleSize: '20px',\n        message: '',\n        backgroundColor: 'red',\n        position: 'topRight',\n      });\n    }\n  \n    getImage(searchValue).then(data => {\n      if (data.totalHits === 0) {\n        return iziToast.show({\n          title: '<div class=\"error-remark\"><img src=\"./img/error.svg\" alt=\"error\" class=\"error-svg\"><span class=\"error-text\">Sorry, there are no images matching your search query. Please try again!</span></div>',\n          titleSize: '20px',\n          message: '',\n          backgroundColor: 'red',\n          position: 'topRight',\n        });\n      }\n\n      links.galleryEL.innerHTML = '';\n\n      getMarkup(data.hits, links.galleryEL);\n      let gallery = new SimpleLightbox('#gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n      });\n      gallery.refresh();\n    });\n    links.formEL.reset();\n  }\n  \n  links.formEL.addEventListener('submit', submitForm);\n"],"names":["getImage","searchValue","BASE_URL","params","response","getMarkup","imgArray","gallery","galleryMarkup","acc","img","links","submitForm","event","iziToast","data","SimpleLightbox"],"mappings":"6vBAAO,SAASA,EAASC,EAAa,CAClC,MAAMC,EAAW,2BAEXC,EAAS,6CAAqBF,CAAW,2DAE/C,OAAO,MAAM,GAAGC,CAAQ,GAAGC,CAAM,EAAE,EAC9B,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,CACT,CCZO,SAASC,EAAUC,EAAUC,EAAS,CACzC,MAAMC,EAAgBF,EAAS,OAAO,CAACG,EAAKC,IAClCD,GAAO;AAAA,uBACEC,EAAI,aAAa,eAAeA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA,wCAEjDA,EAAI,KAAK;AAAA,wCACTA,EAAI,KAAK;AAAA,2CACNA,EAAI,QAAQ;AAAA,4CACXA,EAAI,SAAS;AAAA;AAAA,wBAGlD,EAAE,EACLH,EAAQ,mBAAmB,YAAaC,CAAa,CACzD,CCNA,MAAMG,EAAQ,CACV,OAAQ,SAAS,cAAc,OAAO,EACtC,QAAS,SAAS,cAAc,cAAc,EAC9C,UAAW,SAAS,cAAc,UAAU,EAC5C,QAAS,SAAS,cAAc,UAAU,CAC9C,EAEE,SAASC,EAAYC,EAAO,CAC1BA,EAAM,eAAc,EACpBF,EAAM,UAAU,UAAY,+BAC5B,MAAMV,EAAcU,EAAM,QAAQ,MAAM,KAAI,EAC5C,GAAIV,IAAgB,GAClB,OAAOa,EAAS,KAAK,CACnB,MAAO,+KACP,UAAW,OACX,QAAS,GACT,gBAAiB,MACjB,SAAU,UAClB,CAAO,EAGHd,EAASC,CAAW,EAAE,KAAKc,GAAQ,CACjC,GAAIA,EAAK,YAAc,EACrB,OAAOD,EAAS,KAAK,CACnB,MAAO,oMACP,UAAW,OACX,QAAS,GACT,gBAAiB,MACjB,SAAU,UACpB,CAAS,EAGHH,EAAM,UAAU,UAAY,GAE5BN,EAAUU,EAAK,KAAMJ,EAAM,SAAS,EACtB,IAAIK,EAAe,aAAc,CAC7C,aAAc,MACd,aAAc,GACtB,CAAO,EACO,QAAO,CACrB,CAAK,EACDL,EAAM,OAAO,OACd,CAEDA,EAAM,OAAO,iBAAiB,SAAUC,CAAU"}